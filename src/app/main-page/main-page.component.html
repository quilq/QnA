<div class="container" fxLayout="row" fxLayoutAlign="space-between none">
  <div class="left" fxFlex="70">
    <div>
      <mat-form-field floatLabel="never">
        <input matInput type="search" matInput placeholder="Ask your question" appearance="legacy" autocomplete="off"
          #newQuestion>
      </mat-form-field>
      <a mat-button (click)="onCreateQuestion(newQuestion)">
        <mat-icon matSuffix>add</mat-icon>
      </a>
    </div>
    <h1>Recent Questions</h1>
    <div *ngFor="let question of allQuestions; let i = index" class="all-questions">
      <div fxLayout="row" fxLayoutAlign="space-between none">
        <div>
          <p matLine [routerLink]="['/answers', question._id]">
            {{question.question}}
          </p>
          <p>tag: {{question.tag}}</p>
          <p>
            <mat-icon class="small-icon" matSuffix>person</mat-icon>
            {{question.askedByUser}}
          </p>
        </div>
        <span fxLayout="row">
          <p (click)="onUpdateQuestion(i)" matTooltip="Edit question">
            <mat-icon class="small-icon" matSuffix>edit</mat-icon>
          </p>
          <p (click)="onDeleteQuestion(i)" matTooltip="Delete question">
            <mat-icon class="small-icon" matSuffix>clear</mat-icon>
          </p>
        </span>
      </div>
      <div *ngIf="editable[i]">
        <mat-form-field>
          <textarea matInput placeholder="Edit this question" #updatedQuestion></textarea>
        </mat-form-field>
        <div>
          <button mat-raised-button (click)="onCancel(i)">Cancel</button>
          <button mat-raised-button (click)="onUpdate(i, updatedQuestion.value)">Update</button>
        </div>
      </div>
      <mat-divider></mat-divider>
    </div>
  </div>

  <div class="right" fxFlex="30">
    <div>
      <mat-form-field floatLabel="never">
        <input matInput type="search" matInput placeholder="Search" appearance="legacy">
      </mat-form-field>
      <a mat-button>
        <mat-icon>search</mat-icon>
      </a>
    </div>
    <h1>Popular tags</h1>
    <div *ngFor="let tag of allTags" class="all-tags">
      <p (click)="filterTag(tag)">{{ tag }}</p>
    </div>
  </div>
</div>